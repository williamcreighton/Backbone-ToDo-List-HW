ToDo=Backbone.Model.extend({defaults:{},idAttribute:"_id"}),ToDoList=Backbone.Collection.extend({model:ToDo,url:"http://tiny-pizza-server.herokuapp.com/collections/WHC-ToDo-List"}),ToDoView=Backbone.View.extend({tagName:"li",className:"name-column",template:_.template($(".todo-list-item").text()),editTemplate:_.template($(".edit-todo-list-item").text()),events:{"click .edit-button":"editTask","click .save-button":"saveChanges","click .delete-button":"destroy"},initialize:function(){this.listenTo(this.model,"change",this.render),$(".container").append(this.el),this.render()},render:function(){var a=this.template(this.model.attributes);this.$el.html(a)},editTask:function(){var a=this.editTemplate(this.model.attributes);this.$el.html(a)},saveChanges:function(){var a=this.$el.find(".name input").val();this.model.set("name",a),this.model.save()},destroy:function(){this.model.destroy(),this.remove()}}),$(function(){$(".add-new").click(function(){var a=$(".add-new-input").val(),b=newToDos.add({name:a});b.save()})}),AppView=Backbone.View.extend({initialize:function(){this.listenTo(newToDos,"add",function(a){new ToDoView({model:a})})}});var newToDos=new ToDoList,app=new AppView;newToDos.fetch();